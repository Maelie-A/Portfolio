---
import '../styles/global.css';
---

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/logo.svg" sizes="any" />
    <link rel="apple-touch-icon" href="/logo.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kapakana:wght@300..400&display=swap" rel="stylesheet">
    <title>Portfolio — Menu</title>
  </head>
  <body>
    <main class="min-h-screen w-full relative overflow-hidden">
      <!-- Background (uses the file you provided at project root) -->
      <div class="absolute inset-0 bg-center bg-no-repeat bg-cover pointer-events-none" style="background-image: url('/fondmenu.webp')"></div>

      <!-- Custom cursor that follows the mouse (hidden on mobile) -->
      <img 
        id="custom-cursor" 
        src="/souri.webp" 
        alt="cursor" 
        class="hidden md:block fixed pointer-events-none z-50" 
        style="width:5rem; filter: drop-shadow(0 8px 8px rgba(0,0,0,0.25)); transform: rotate(8deg); transition: transform 0.1s ease-out;"
      />

      <!-- DESKTOP: absolute positioned elements (hidden on small screens) -->
      <section class="hidden md:block">
  <!-- star top-left: large and a bit rotated like the mockup - clickable link to about page -->
  <a href="/about" class="draggable absolute hover:scale-110 transition-transform" style="left:8%; top:10%; width:18rem; transform: rotate(-6deg); cursor: move;">
    <img src="/etoile.webp" alt="star" style="width:100%; pointer-events: none;" />
  </a>
  <!-- cursor near the star - REMOVED because we use the custom cursor now -->

        <!-- sd card left: centered vertically about 46% from top -->
        <a href="/projets-photos" class="draggable absolute hover:scale-110 transition-transform" style="left:22%; top:52%; width:8rem; cursor: move;">
          <img src="/carte.webp" alt="sdcard" style="width: 100%; pointer-events: none;" />
        </a>

        <!-- folders cluster center-right: three folders positioned similar to mockup -->
        <a href="/projets-art" class="draggable absolute hover:scale-110 transition-transform" style="left:52%; top:22%; display:flex; flex-direction:column; align-items:center; gap:0.25rem; cursor: move;">
          <img src="/dossier.webp" alt="Projets_dART" class="desktop-folder" style="width:5.5rem; pointer-events: none;" />
          <span style="font-size:0.75rem; text-align:center; pointer-events: none;">Projets d'ART</span>
        </a>
        <a href="/design-graphique" class="draggable absolute hover:scale-110 transition-transform" style="left:66%; top:14%; display:flex; flex-direction:column; align-items:center; gap:0.25rem; cursor: move;">
          <img src="/dossier.webp" alt="design-graphique" class="desktop-folder" style="width:5.5rem; pointer-events: none;" />
          <span style="font-size:0.75rem; text-align:center; pointer-events: none;">Design graphique</span>
        </a>
        <a href="/projets-photos" class="draggable absolute hover:scale-110 transition-transform" style="left:59%; top:38%; display:flex; flex-direction:column; align-items:center; gap:0.25rem; cursor: move;">
          <img src="/dossier.webp" alt="Projets_Photos" class="desktop-folder" style="width:5.5rem; pointer-events: none;" />
          <span style="font-size:0.75rem; text-align:center; pointer-events: none;">Projets Photos</span>
        </a>

        <!-- paper airplane right: lower-right area -->
        <a href="/contact" class="draggable absolute hover:scale-110 transition-transform" style="right:10%; top:52%; width:12rem; transform: rotate(-8deg); cursor: move;">
          <img src="/avionpapier.webp" alt="paper plane" style="width:100%; pointer-events: none;" />
        </a>

        <!-- small decorative stars on right -->
        <img src="/petitesetoiles.webp" alt="stars" class="draggable absolute" style="right:16%; top:18%; width:3.5rem; cursor: move;" />

        <!-- center signature and social icons: aligned at about 68% from top -->
        <div class="draggable absolute" style="left:50%; transform:translateX(-50%); top:66%; display:flex; flex-direction:column; align-items:center; gap:0.6rem; cursor: move;">
          <img src="/logo.webp" alt="logo" style="width:8.5rem; height:auto; pointer-events: none;" />
          <div style="font-size:0.95rem; pointer-events: none;">maelie@addario.fr</div>
          <div style="margin-top:0.6rem; display:flex; gap:0.6rem;">
            <a href="https://www.behance.net/MaelieAddarioMa_d" target="_blank" class="social-icon" style="pointer-events: auto;">
              <img src="/behance.svg" alt="behance" style="width:2rem; height:2rem;" />
            </a>
            <a href="https://www.linkedin.com/in/maëlie-addario-b66790336" target="_blank" class="social-icon" style="pointer-events: auto;">
              <img src="/linkedin.svg" alt="linkedin" style="width:2rem; height:2rem;" />
            </a>
            <a href="https://www.instagram.com/ma_dart8" target="_blank" class="social-icon" style="pointer-events: auto;">
              <img src="/instagram.svg" alt="instagram" style="width:2rem; height:2rem;" />
            </a>
            <a href="https://fr.pinterest.com/Mamaeliea_d/" target="_blank" class="social-icon" style="pointer-events: auto;">
              <img src="/pinterest.svg" alt="pinterest" style="width:2rem; height:2rem;" />
            </a>
            <a href="https://linktr.ee/mamaeleea_d" target="_blank" class="social-icon" style="pointer-events: auto;">
              <img src="/linktree.svg" alt="linktree" style="width:2rem; height:2rem;" />
            </a>
          </div>
        </div>

        <!-- dock at bottom center -->
        <div class="draggable absolute" style="left:50%; transform:translateX(-50%); bottom:2rem; width:86%; max-width:56rem; cursor: move;">
          <img src="/macosdock.webp" alt="dock" style="width:100%; height:auto; pointer-events: none;" />
        </div>
      </section>

      <!-- MOBILE: stacked layout (visible on small screens) -->
      <section class="md:hidden relative z-10 flex flex-col items-center gap-12 py-16 px-6 min-h-screen justify-center">
        <!-- Star: About Me -->
        <a href="/about" class="hover:scale-105 active:scale-95 transition-transform touch-manipulation">
          <img src="/etoile.webp" alt="star - About Me" class="w-48" />
        </a>
        
        <!-- Cursor icon -->
        <img src="/souri.webp" alt="cursor" class="w-14 -mt-8 drop-shadow-lg pointer-events-none" />
        
        <!-- SD Card: Photos -->
        <a href="/projets-photos" class="hover:scale-105 active:scale-95 transition-transform touch-manipulation">
          <img src="/carte.webp" alt="sdcard - Projets Photos" class="w-36" />
        </a>

        <!-- Folders: Projects -->
        <div class="flex flex-col items-center gap-8 w-full max-w-sm mt-4">
          <div class="flex justify-around w-full items-center gap-4">
            <a href="/projets-art" class="flex flex-col items-center gap-2 hover:scale-105 active:scale-95 transition-transform flex-1 touch-manipulation">
              <img src="/dossier.webp" alt="Projets d'ART" class="w-20" />
              <span class="text-xs text-center leading-tight">Projets d'ART</span>
            </a>
            <a href="/design-graphique" class="flex flex-col items-center gap-2 hover:scale-105 active:scale-95 transition-transform flex-1 touch-manipulation">
              <img src="/dossier.webp" alt="Design Graphique" class="w-20" />
              <span class="text-xs text-center leading-tight">Design<br/>graphique</span>
            </a>
          </div>
        </div>

        <!-- Paper Plane: Contact -->
        <a href="/contact" class="hover:scale-105 active:scale-95 transition-transform mt-4 touch-manipulation">
          <img src="/avionpapier.webp" alt="paper plane - Contact" class="w-44" />
        </a>

        <!-- Logo & Social Icons -->
        <div class="flex flex-col items-center gap-3 mt-8">
          <img src="/logo.webp" alt="Maëlie Addario logo" class="w-36 pointer-events-none" />
          <div class="text-sm">maelie@addario.fr</div>
          <div class="mt-4 flex gap-4 flex-wrap justify-center">
            <a href="https://www.behance.net/MaelieAddarioMa_d" target="_blank" class="social-icon-mobile touch-manipulation">
              <img src="/behance.svg" alt="behance" class="w-9 h-9" />
            </a>
            <a href="https://www.linkedin.com/in/maëlie-addario-b66790336" target="_blank" class="social-icon-mobile touch-manipulation">
              <img src="/linkedin.svg" alt="linkedin" class="w-9 h-9" />
            </a>
            <a href="https://www.instagram.com/ma_dart8" target="_blank" class="social-icon-mobile touch-manipulation">
              <img src="/instagram.svg" alt="instagram" class="w-9 h-9" />
            </a>
            <a href="https://fr.pinterest.com/Mamaeliea_d/" target="_blank" class="social-icon-mobile touch-manipulation">
              <img src="/pinterest.svg" alt="pinterest" class="w-9 h-9" />
            </a>
            <a href="https://linktr.ee/mamaeleea_d" target="_blank" class="social-icon-mobile touch-manipulation">
              <img src="/linktree.svg" alt="linktree" class="w-9 h-9" />
            </a>
          </div>
        </div>
      </section>
    </main>

    <script>
      // Script pour faire suivre l'image souri.webp au curseur de la souris
      const customCursor = document.getElementById('custom-cursor');
      
      if (customCursor) {
        // Cacher le curseur par défaut sur le body
        document.body.style.cursor = 'none';
        
        // Position initiale au centre de l'écran
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;
        
        // Suivre le mouvement de la souris
        document.addEventListener('mousemove', (e) => {
          mouseX = e.clientX;
          mouseY = e.clientY;
          
          // Positionner l'image avec un léger décalage pour que le curseur soit au bon endroit
          customCursor.style.left = (mouseX - 40) + 'px'; // -40 pour centrer (moitié de 5rem)
          customCursor.style.top = (mouseY - 40) + 'px';
        });
        
        // Afficher le curseur quand la souris entre dans la page
        document.addEventListener('mouseenter', () => {
          customCursor.style.display = 'block';
        });
        
        // Cacher le curseur quand la souris sort de la page
        document.addEventListener('mouseleave', () => {
          customCursor.style.display = 'none';
        });
      }

      // Script pour rendre les éléments draggables (déplaçables)
      const draggables = document.querySelectorAll('.draggable');
      let currentDraggable = null;
      let offsetX = 0;
      let offsetY = 0;

      draggables.forEach(draggable => {
        draggable.addEventListener('mousedown', (e) => {
          // Ne pas activer le drag si on clique sur un lien (pour permettre la navigation)
          if (e.target.tagName === 'A' || e.target.closest('a')) {
            return;
          }
          
          e.preventDefault();
          currentDraggable = draggable;
          
          // Calculer l'offset par rapport à la position de la souris
          const rect = draggable.getBoundingClientRect();
          offsetX = e.clientX - rect.left;
          offsetY = e.clientY - rect.top;
          
          // Passer en z-index élevé pendant le drag
          draggable.style.zIndex = '1000';
          draggable.style.transition = 'none'; // Désactiver les transitions pendant le drag
        });
      });

      document.addEventListener('mousemove', (e) => {
        if (currentDraggable) {
          e.preventDefault();
          
          // Calculer la nouvelle position
          const newLeft = e.clientX - offsetX;
          const newTop = e.clientY - offsetY;
          
          // Appliquer la nouvelle position
          currentDraggable.style.left = newLeft + 'px';
          currentDraggable.style.top = newTop + 'px';
          currentDraggable.style.right = 'auto';
          currentDraggable.style.bottom = 'auto';
          currentDraggable.style.transform = currentDraggable.style.transform.replace(/translate[XY]\([^)]*\)/g, '');
        }
      });

      document.addEventListener('mouseup', () => {
        if (currentDraggable) {
          currentDraggable.style.zIndex = '';
          currentDraggable.style.transition = ''; // Réactiver les transitions
          currentDraggable = null;
        }
      });

      // Double-clic pour réinitialiser la position (optionnel)
      draggables.forEach(draggable => {
        draggable.addEventListener('dblclick', () => {
          location.reload(); // Recharge la page pour réinitialiser les positions
        });
      });
    </script>
  </body>
</html>
